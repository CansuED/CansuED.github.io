---
layout: compress
---
{% include base_path %}
<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>
  <body>
    {% include browser-upgrade.html %}
    {% include lab-masthead.html %}
    
    <div id="main" role="main">
    <div class="page">
        <div class="page__inner-wrap">
        {% if page.title %}
        <header>
            <h1 class="page__title">{{ page.title }}</h1>
        </header>
        {% endif %}
        <section class="page__content">
            {{ content }}
        </section>
        </div>
    </div>
    </div>

    {% include scripts.html %}
    <script>
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        document.body.setAttribute('data-theme', theme);
      }
      
      // Check if localStorage is available
      function getTheme() {
        if (typeof localStorage !== 'undefined') {
          try {
            return localStorage.getItem('theme') || 'light';
          } catch (e) {
            return 'light';
          }
        }
        return 'light';
      }
      
      function setTheme(theme) {
        if (typeof localStorage !== 'undefined') {
          try {
            localStorage.setItem('theme', theme);
          } catch (e) {
            // localStorage not available
          }
        }
      }
      
      // Apply theme on load
      const currentTheme = getTheme();
      applyTheme(currentTheme);
      
      // Set up theme toggle button
      const themeToggle = document.getElementById('theme-toggle-btn');
      if (themeToggle) {
        const themeIcon = themeToggle.querySelector('.theme-icon');
        if (themeIcon) {
          themeIcon.textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
        }
        
        // Add click handler
        themeToggle.addEventListener('click', function() {
          const theme = document.documentElement.getAttribute('data-theme');
          const newTheme = theme === 'light' ? 'dark' : 'light';
          
          applyTheme(newTheme);
          setTheme(newTheme);
          if (themeIcon) {
            themeIcon.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
          }
        });
      }
      
      // Handle nav toggle
      const navLinks = document.querySelectorAll('.masthead__menu-item a');
      const navToggle = document.getElementById('nav-toggle');
      
      if (navLinks && navToggle) {
        navLinks.forEach(link => {
          link.addEventListener('click', () => {
            navToggle.checked = false;
          });
        });
      }
      
      // Close nav on outside click
      document.addEventListener('click', (e) => {
        const nav = document.querySelector('.greedy-nav');
        const toggle = document.querySelector('.nav-toggle-label');
        
        if (navToggle && navToggle.checked && 
            !nav.contains(e.target) && 
            e.target !== toggle) {
          navToggle.checked = false;
        }
      });
    });
    </script>
  </body>
</html>