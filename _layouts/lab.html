---
layout: compress
---
{% include base_path %}
<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>
  <body>
    {% include browser-upgrade.html %}
    {% include lab-masthead.html %}
    
    <div id="main" role="main">
    <div class="page">
        <div class="page__inner-wrap">
        {% if page.title %}
        <header>
            <h1 class="page__title">{{ page.title }}</h1>
        </header>
        {% endif %}
        <section class="page__content">
            {{ content }}
        </section>
        </div>
    </div>
    </div>

    {% include scripts.html %}
    <script>
    (function() {
      function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        document.body.setAttribute('data-theme', theme);
      }
      
      // Apply theme immediately on load
      const currentTheme = localStorage.getItem('theme') || 'light';
      applyTheme(currentTheme);
      
      // Set initial icon
      const themeToggle = document.getElementById('theme-toggle-btn');
      const themeIcon = themeToggle.querySelector('.theme-icon');
      themeIcon.textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      
      // Add click handler
      themeToggle.addEventListener('click', function() {
        const theme = document.documentElement.getAttribute('data-theme');
        const newTheme = theme === 'light' ? 'dark' : 'light';
        
        applyTheme(newTheme);
        localStorage.setItem('theme', newTheme);
        themeIcon.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      });
      
      // Handle nav toggle
      const navLinks = document.querySelectorAll('.masthead__menu-item a');
      const navToggle = document.getElementById('nav-toggle');
      
      if (navLinks && navToggle) {
        navLinks.forEach(link => {
          link.addEventListener('click', () => {
            navToggle.checked = false;
          });
        });
      }
      
      // Close nav on outside click
      document.addEventListener('click', (e) => {
        const nav = document.querySelector('.greedy-nav');
        const toggle = document.querySelector('.nav-toggle-label');
        
        if (navToggle && navToggle.checked && 
            !nav.contains(e.target) && 
            e.target !== toggle) {
          navToggle.checked = false;
        }
      });
    })();
    </script>
  </body>
</html>